## 클라이언트 - 서버 모델에서의 HTTP
1. 클라이언트가 TCP로 서버와 커넥션을 맺는다. (일반적으로 TCP이지만 다른 연결방식이 될 수도 있다.)
2. 맺은 TCP 커넥션 위에서 클라이언트는 요청을 서버로 전송한 뒤 서버의 응답을 대기한다.
3. 요청을 보낸 TCP 커넥션에서 서버는 요청을 처리하고 요청에 대한 상태코드와 응답 메시지를 클라이언트에 보낸다.

### 연결의 open - close
- HTTP/1.0 이전 버전에서는 TCP 연결 하나 당 요청과 응답 쌍으로 구성되어 있었기 때문에 3의 과정이 이뤄지고 TCP 연결을 닫는다.
- HTTP/1.1 버전 부터는 한 쌍의 요청과 응답이 이뤄지고 나서도 TCP 연결이 끊기지 않는다. 따라서 하나의 TCP 연결에서 여러번의 요청-응답의 쌍의 전송이 이뤄질 수 있다.

## TCP 연결
- 서버-클라이언트 프로토콜에서 클라이언트가 먼저 연결을 시도한다. 먼저 TCP 커넥션을 만든 후 이 위에 연결을 한다.
- TCP 연결을 하기 때문에 포트가 80 또는 8000, 8080 등의 포트를 사용한다. 이 포트는 컴퓨터 외부와의 연결을 위한 포트로 TCP 연결에 기본적으로 사용할 수 있는 포트라고 보면 된다. (포트 번호가 80일 경우 외부에서 들어오는 커넥션의 주소에서 포트번호 80을 생략할 수 있다.)

## 클라이언트 서버 모델의 특징
- 클라이언트에서 서버로의 요청은 가능하지만, 서버에서 클라이언트로의 요청은 허용하지 않는다.
- 클라이언트에서 서버로의 데이터 전송은 허용하지만 서버에서 클라이언트로 데이터 전송은 허가하지 않는 모델이다.

### 클라이언트 서버 모델에서 서버의 변경 확인하기
-  클라이언트가 브라우저인 경우 XMLHTTPRequest, Fetch API를 통해 주기적으로 서버에 핑한다.
-  HTML 웹소켓 API 또는 이와 유사한 프로토콜을 사용하여 HTTP 방식이 아닌 프로토콜로 새로운 연결을 만들어 쓴다.

## 클라이언트 요청 전송
- 사용자-에이전트 : 웹 브라우저, 크롤러 등 클라이언트에 해당하는 것

### 클라리언트 요청 블록
1. 첫번째 줄
- 요청 메소드가 포함 됨
- 문서의 경로, URL에서 프로토콜과 도메인 이름을 제외한 나머지 경로 (어차피 연결은 TCP로 되어서 통신은 이 TCP 기반 위에서 이뤄진다.)
- 사용중인 HTTP 프로토콜 버전

2. 다음 줄
- 헤더를 나타냄
- 한 단위의 헤더는 빈 줄로 끝나는 블록으로 구분한다.
- 언어, MIME 타입, 캐시 컨트롤에 관한 것

3. 마지막 블록
- 부가적인 데이터를 나타내는 블록
- POST 메소드에 의해 사용된다.

## 요청의 예
```
GET / HTTP/1.1
Host: developer.mozilla.org
Accept-Language: fr

```
- `Content-Length:` 헤더가 없으므로 데이터 블록은 비어있다.
- 헤더의 마지막을 나타내는 빈줄을 보낸다. 서버가 빈 줄을 받으면 즉시 요청을 처리하도록 하는 프로토콜이다.ㅈ




## Reference
- https://developer.mozilla.org/ko/docs/Web/HTTP/Session
