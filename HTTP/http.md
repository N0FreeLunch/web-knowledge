## HTTP
- 하이퍼텍스트 전송 프로토콜
- HTTP는 문자열 프로토콜으로 사람이 읽을 수 있도록 간단한 문법으로 만들어졌다.

## 클라이언트, 웹서버, 프록시

### 클라이언트
- 클라이언트는 서버에 원하는 요청을 보내고 응답을 받아 유저와 상호작용하기 위한 인터페이스이다.
- 웹에서 클라이언트는 브라우저가 담당한다.
- 브라우저는 웹에서 사용하는 다양한 파일을 서버로 부터 다운로드 하는 역할을 한다.

#### 브라우저의 기본 동작 방식
- HTML 문서를 가져오기 위한 요청을 한다. HTML 문서를 HTTP 통신으로 받으면 HTML 문서를 파싱하고 HTML 문서에서 추가적으로 호출을 요구하는 파일을 서버에 요청하여 다운 받는다.
- HTML 문서의 내용을 파싱한 후 브라우저 화면을 렌더링하며 CSS, JS, IMG 등 추가적으로 다운받은 파일을 해석하여 추가적인 화면 렌더링을 실시한다.

### 웹서버
- 클라이언트의 요청에 대한 문서를 제공하는 컴퓨터
- 추가적인 노드의 분기를 생각하지 않고 클라이언트-서버 간의 연결만을 생각할 때 서버는 논리상 단일하다. 하나의 연결에 대해 클라이언트는 하나의 서버에만 연결을 한다.
- 물론 논리적으로 하나의 서버에 연결을 하지만 논리적 단일 서버는 네트워크 분기상 여러 서버와 연결 될 수 있다.

### 프록시
- 네트워크 상에서 클라이언트와 서버 간의 연결 사이에 거쳐야 하는 컴퓨터
- 프록시는 HTTP 통신을 전달 받고 다시 전송하는 역할을 한다.

#### 프록시 기능
- 캐싱 (캐시는 공개 또는 비공개가 될 수 있습니다 (예: 브라우저 캐시))
- 필터링 (바이러스 백신 스캔, 유해 컨텐츠 차단(자녀 보호) 기능)
- 로드 밸런싱 (여러 서버들이 서로 다른 요청을 처리하도록 허용)
- 인증 (다양한 리소스에 대한 접근 제어)
- 로깅 (이력 정보를 저장)

## 클라이언트-서버 모델
- 네트워크 통신 상에서 데이터의 저장을 어떻게 할지에 관한 모델로는 크게 P2P 방식과 클라이언트 서버 모델이 존재한다.
- 클라이언트가 서버에 요청을 전송하고 응답을 받을 때까지 대기하는 방식으로 구성되어 있다.

#### 클라이언트 서버 모델
- 데이터의 저장소가 서버가 되는 모델

#### P2P 모델
- 데이터의 저장소가 P2P 송수신을 허용한 네트워크 상의 모든 컴퓨터가 되는 모델

### 리소스의 관점
- P2P 방식은 각 컴퓨터가 서버의 역할도 하며 클라이언트의 역할도 하는 모델이다. 클라이언트에서 외부의 요청을 처리해야 하기 때문에 컴퓨팅 자원을 많이 소비한다는 문제점이 있다.
- 클라이언트-서버 모델은 서버가 요청에 대한 처리를 담당하고 클라리언트는 서버에 전달할 요청을 만들고 응답을 받아 처리하는 리소스만 있으면 되기 때문에 클라이언트 입장에서 컴퓨팅 자원을 적게 소비한다는 장점이 있다.

### 보안적인 관점
- 클라이언트-서버 모델은 민감한 정보는 네트워크 상의 다른 기기에 전송되지 않고 클라이언트와 서버 간에만 전송되며 민감한 정보의 저장은 서버에서만 이뤄지기 때문에 보안설계를 하기 편하다.
- P2P 모델은 네트워크 상의 각 컴퓨터가 데이터의 저장소가 되기 때문에 데이터의 충분한 분산이 이뤄지지 않으면 데이터를 잃어버릴 가능성이 있다. 또한 이 데이터에 민감한 정보를 저장하기 위해서는 암호화된 방식을 사용해야 한다. 보안이 필요한 정보를 처리하기 위해서는 암호화 된 데이터의 전송이 이뤄지기 때문에 상대적으로 많은 리소스를 차지한다.

## TCP/IP
- 통신에서 전송하는 데이터를 잃지 않기 위해 만들어진 전송방식이다.
- HTTP 프로토콜은 TCP/IP 레이어 기반 위에 동작하는 애플리케이션 계층의 프로토콜이지만 특정한 유형의 전송 계층을 요구하지는 않는다. 다만 메시지 손실이 없어야 하는 전제가 있기 때문에 TCP/IP 레이어 기반을 사용할 뿐이다.
- 인터넷은 TCP/IP 레이어를 기반으로 해서 통신이 이뤄진다. (인터넷의 정의 : 인터넷 프로토콜 스위트(TCP/IP)를 기반으로 하여 전 세계적으로 연결되어있는 컴퓨터 네트워크 통신망 (나무위키)) 인터넷을 통해서 HTTP 프로토콜을 주고 받기 때문에 HTTP 프로토콜은 일반적으로 TCP/IP 표준에 의존한다고 표현한다.

### TCP
- 두 개의 호스트를 연결하고 데이터 스트림을 교환하게 해주는 네트워크 프로토콜이다.
- 데이터와 패킷이 보내진 순서대로 전달 되는 것을 보장하기 위한 목적으로 만들어졌다.
- 패킷이 손실된 데이터 없이 에러 없이 신뢰할 수 있게 전달 되었는지 보증해 준다.
- 하나의 TCP 연결 기반 위에서 여러 통신을 할 수 있다. TCP 방식은 이 통신들을 동시에 제어할 수 있기 때문에 뒤이어 이어지는 통신들의 크기에 상관없이 연결 할 수 있다는 장점이 있다.

## HTTP 프로토콜의 특징
### 애플리케이션 레이어
- OSI 7 계층에서 애플리케이션 계층에서 이뤄지는 프로토콜이다.
- HTTP 프로토콜은 신뢰할 수 있는 데이터 전송을 위해서 TCP/IP 기반 위에서 사용되지만 TCP/IP 기반과 HTTP 명세는 특별한 관계가 없다. 통신 데이터의 손실을 방지할 수 있는 것이라면 어떠한 하위 레이어(애플리케이션 레이어의 아래 레이어)를 사용해도 문제가 없다. 따라서 HTTP 프로토콜 문제는 네트워크 문제와 별개로 취급하는 것이 좋다.

### 사용자 정의 헤더
- HTTP 헤더에는 사용자 정의 헤더를 추가할 수 있다.
- 사용자 정의 헤더를 통해 클라이언트와 서버가 정의된 헤더에 대한 처리 로직을 구현하여 새로운 기능을 자유롭게 추가할 수 있다.

### 비 상태저장
- HTTP 프로토콜은 상태를 저장하지 않는 특징을 가지고 있다.
- 상태를 저장하지 않는다는 것은 동일한 TCP/IP 연결 상에서 서로 다른 두 통신이 서로간에 영향을 끼치지 않는 방식으로 설계되었다는 의미이다.
- 서로 다른 통신들이 동일한 클라이언트임을 식별하는 방법은 기본적으로 쿠키를 통해서 이뤄진다. HTTP 자체는 상태를 저장하지 않지만, 서버와 클라이언트는 상태를 저장할 수 있는 기능을 가지고 있다. 기본적으로 브라우저는 쿠키를 통해 HTTP 통신으로 전달 받은 값을 저장하며 쿠키에 저장된 값을 HTTP 통신을 통해 서버로 전달함으로서 서버는 이전 통신과 이후 통신이 보낸 쿠키 데이터를 통해 서로 다른 통신들의 연관 관계를 파악할 수 있다.

## HTTP version
### HTTP/1.0
- 각 요청/응답에 대해 TCP 연결을 하나씩 연다.

### HTTP/1.1
- 파이프라이닝 개념과 지속적인 연결의 개념을 도입
- 하나의 TCP 연결을 사용하여 복수의 HTTP 요청/응답을 주고받는다는 개념으로 앞선 요청의 응답을 받고 나서 다음 요청을 처리하는 방식이다.

### HTTP/2
- 단일 연결 상에서 메시지를 다중 전송(multiplex)하는 방식
- 요청을 동시적으로 처리할 수 있는 방식. 하나의 요청이 처리되는 동안 다른 요청을 처리할 수 있다.


## Reference
- https://developer.mozilla.org/ko/docs/Web/HTTP
- https://developer.mozilla.org/ko/docs/Web/HTTP/Overview
- https://developer.mozilla.org/ko/docs/Glossary/TCP
